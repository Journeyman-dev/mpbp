<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mpbp: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">mpbp<span id="projectnumber">&#160;0.0.0</span>
   </div>
   <div id="projectbrief">An MIT licensed multi-page bin packing library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="contents">
<div class="textblock"><p >This site contains the documentation for the mpbp library. mpbp (<b>M</b>ulti-<b>P</b>age <b>B</b>in <b>P</b>acking library) is a free and open source library for bin packing written in C++ 20. It provides an easy to use bin packing algorithm with support for both offline and online packing. mpbp tries to optimally place Rects in multiple bins of a specific size in as few bins as possible. This system is designed for usage in creating sprite batch rendering systems that utilize more than one texture atlas page.</p>
<p >Clone the library from GitHub: <a href="https://github.com/Journeyman-dev/mpbp">https://github.com/Journeyman-dev/mpbp</a></p>
<h1><a class="anchor" id="Usage"></a>
Usage</h1>
<p >To use mpbp, you must first create a <a class="el" href="classmpbp_1_1Packer.html" title="A bin packing algorithm runner and state machine.">mpbp::Packer</a> object and specify the maximum width and height of each bin page. This can be done in one programming statment using its overloaded constructor. </p><pre class="fragment">int max_width = 32;
int max_height = 16;
mpbp::Packer::packer(max_width, max_height);
</pre><p> In order to pack, you must provide a <a href="https://en.cppreference.com/w/cpp/container/span">std::span</a> of <a class="el" href="classmpbp_1_1Rect.html" title="A bin packable axis-alligned rectangle.">mpbp::Rect</a>. An easy way to do this is to store the <a class="el" href="classmpbp_1_1Rect.html" title="A bin packable axis-alligned rectangle.">mpbp::Rect</a> objects in a <a href="https://en.cppreference.com/w/cpp/container/vector">std::vector</a>, which will be implicitly converted to a span when you pass it into the packing function. Construct each rect using the overloaded constructor with three arguments. For the first argument, pass in an <code>unsigned long int</code> identifier value which will be used to identify this Rect later. For the second and third arguments, pass in the width and height of the Rect. </p><pre class="fragment">  std::vector&lt;mpbp::Rect&gt; input_rects = {
    mpbp::Rect(0, 1, 1), mpbp::Rect(1, 2, 2),  mpbp::Rect(2, 4, 4), mpbp::Rect(3, 5, 5),
    mpbp::Rect(4, 7, 7), mpbp::Rect(5, 7, 7),  mpbp::Rect(6, 6, 6), mpbp::Rect(7, 9, 9),
    mpbp::Rect(8, 6, 6), mpbp::Rect(9, 30, 15)};
</pre><p> To perform a pack, pass vector of Rect objects into the <a class="el" href="classmpbp_1_1Packer.html#a2a6a069cd974978f44cea2b6ccbb3761" title="Run the pack algorithm with the given span of Rect.">mpbp::Packer::Pack()</a> function. </p><pre class="fragment">packer.Pack(input_rects);
</pre><p> After the Rect objects are packed, loop through them and use their getter functions to get their positions in the bin pages. You can use <a class="el" href="classmpbp_1_1Packer.html#a7706c5044bdaaa0b764b8e54f093ee03" title="Get the amount of bin pages from all previous packs.">mpbp::Packer::GetPageCount()</a> to get the total amount of pages that were packed. Remember that after packing, the Rect objects are no longer the same order in their container. To determine which Rect is which, check the identifier value that you set earlier, which you can get with the <a class="el" href="classmpbp_1_1Rect.html#ac7632e2cf65c74a1e569b4fa37bdf5cc" title="Get the value used to idenitfy this Rect.">mpbp::Rect::GetIdentifier()</a> function.</p>
<p >If you wish to pack more Rect objects with the Packer object, you can do so by creating a new container of Rect objects and calling the Pack function again. You can do this as many times as you like, but note that the more times you call the pack algorithm, the less space efficient it will be. Alternatively, you can clear the Packer object of all state data by calling the <a class="el" href="classmpbp_1_1Packer.html#a0ea3bf433ee29ae0c31f8f3360039277" title="Clear the Packer of data from all previous packs.">mpbp::Packer::Clear()</a> function, and then you can pack your Rect objects again from scratch including any new additions.</p>
<p >You can find a complete example of mpbp in the example folder of the GitHub repostiroy. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
